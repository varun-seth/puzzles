[
  {
    "puzzleId": 1,
    "title": "Rolling the bullet",
    "difficulty": "easy",
    "category": "probability",
    "source": "Quant Interview",
    "question": "Two bullets are loaded into a gun's round barrel consecutively.
      The barrel has a capacity of 6. The gun is fired once, but no bullet is shot.
      Does rolling the barrel (shuffling) before next shot increase the probability of firing a bullet?",
    "questionImage": "rolling_bullet.png",
    "hint": "Since the bullets are loaded consecutively, the next shot is also constrained.",
    "answer": "Yes, shuffling increases the probability of firing a bullet from $25\\%$ to $33.\\bar{3}\\%$)",
    "solution": "
      **Initial Misstep**: If the two bullets are randomly put instead of consecutively, then, after firing one empty shot, there are $2$ bullets and $5$ total slots. The probability would be $2/5 = 40\\%$, but that's not the case here.
      \n\n
      **Correct step**: The probability of firing a bullet without a shuffle is $1\/4 = 25\\%$. To understand this, imagine that the firing pin was on one of the empty slots $(3, 4, 5, 6)$, and the first shot was taken, but no bullet was fired. Now assumming that the barrel rotates clockwise, the pin will move to one of these slots: $(2, 3, 4, 5)$. Out of these four slots, only the slot $(1)$ has a bullet. Hence probability of firing a bullet is $1\/4 = 25\\%$.\n
      Note that the same is true in anti-clockwise direction.\n\n
      After the shuffle, the state is reset. There are $6$ total slots with $2$ bullets, the probabilty of firing a bullet after a shuffle is $2/6 = 1/3 \\approx 33\\% $.\n\n
      Thus, shuffling does increase the probability of firing a bullet (from $25\\%$ to $33\\%$)\n\n
      ",
    "solutionImage": "rolling_bullet_a.png",
  },
  {
    "puzzleId": 2,
    "title": "Pirates & The Treasure",
    "difficulty": "easy",
    "category": "strategy",
    "source": "Technical Interview",
    "question": "Five pirates need to divide 100 Gold Coins. Pirates have a hierarchy, from Level 1 to level 5. The highest level pirate is the leader. The leader proposes a plan to distribute the gold and all the pirates vote on it (including the leader). If at least 50% of the pirates agree on the plan, the gold is split according to the proposal. If not, level-5 pirate is kicked from the ship, and the level-4 pirate now proposes a new plan. This process continues until a proposal is accepted. All pirates are extremely smart and extremely greedy. How does level-5 Pirate divide the treasure?",
    "hint": "Here n=5, think in terms of what happens if n=1,2,3...",
    "answer": "Coin distribution is: (98, 0, 1, 0, 1) from levels (5, 4, 3, 2, 1) respectively",
    "solution": "
      Let the pirates be called P5, P4, P3, P2, P1. P5 is the leader.\n\n
      Let's study a simpler case with only 2 pirates. P2 can propose to take all the 100 gold coins. Even if P1 votes against this, P2 will vote in favor and the proposal will still be accepted (50\\% acceptance) leaving P1 with zero coins. The distribution is (100, 0) for levels (2, 1) respectively.\n\n
      Now let's look at the case with 3 pirates. P3 knows that if this proposal is not accepted, then P2 will get all the gold and P1 will get nothing. So P3 can bribe P1 with one gold coin. P1 knows that one gold coin is better than zero, and hence votes in favor of this proposal. Therefore, P3 can propose the following distribution {Level 3 pirate: 99, Level-2: 0, Level-3: 1}. Since pirate 1 and 3 will vote in favor, this proposal will be accepted. The distribution is (99, 0, 1) for levels (3, 2, 1) respectively.\n\n
      If there are 4 pirates, P4 can extend this pattern by bribing those who would get nothing in 3-pirates case, to ensure their votes. So the distribution will be (99, 0, 1, 0) for levels (4, 3, 2, 1) respectively, this will ensure that P2 will vote in favor and with the help of self voting (P4), we have 50\\% votes to accept this proposal.\n\n
      Similarly, P5 can bribe P3 and P1 pirates because they get nothing if the proposal is rejected, as P4 was giving them nothing. Hence, at level-5, the proposal is (98, 0, 1, 0, 1). This proposal will get accepted and provide the maximum amount of gold to the leader.\n\n
      PS: This puzzle gives a basic idea of game theory and dynamic programming.
      ",
  },
  {
    "puzzleId": 3,
    "title": "The Returning Explorer",
    "difficulty": "easy",
    "category": "discrete",
    "source": "Very Common",
    "question": "An explorer walks 1 mile south, then 1 mile East and then 1 mile North. And reaches back to the starting point. The explorer shoots a bear, what color is the bear?",
    "hint": "Earth surface is curved, not flat.",
    "answer": "White",
    "solution": "
      North-pole satisfies this condition, where moving one mile to south, east and north brings you back to the same point. And a bear living in the north pole must be a polar bear, which is white in color.\n\n
      But North pole is not the only point on Earth to satisfy this. How many such points are there?
      Consider this, if movement towards East (1 mile) was not there, then the explorer would have reached the starting point no matter what. But, since we are consider such an extreme case (north pole), let's take one more step. Imagine if 1 mile was the circumference of the circle, then the explorer would have reached the starting point by moving East.\n\n
      Can this happen in real life - Yes!\n\n
      We can imagine a ring of size 1 mile near the south pole, about $1\/(2 \\pi)$ miles away from it. The radius of this ring is such that the circumference will be exactly 1 mile.
      If the explorer could start from 1 mile north of this ring, then they would have reached the starting point after moving 1 mile south, 1 mile east (entire ring) and 1 mile north.\n\n
      Hence, any point located at approximately $1 + 1\/(2 \\pi) $ miles away from the south pole satisfies the condition.
      Hence there are infinite such points, the locus is a ring near the south pole.
      [A much better explanation is available here](https://mindyourdecisions.com/blog/2011/02\/22\/one-mile-south-one-mile-east-one-mile-north-a-classic-puzzle)\n
      ",
  },
  {
    "puzzleId": 4,
    "title": "Which Switch?",
    "difficulty": "easy",
    "category": "general",
    "source": "Analytical Interview Puzzle",
    "question": "There is a light bulb inside a room and four switches outside. All switches are currently at off state and only one switch controls the light bulb. You may turn any number of switches on or off any number of times you want. How many times do you need to go into the room to figure out which switch controls the light bulb? ",
    "hint": "A lighted bulb also emits heat, and gets hot slowly (not instantaneously!)",
    "answer": 1,
    "solution": "I think this puzzle is stupid, but it was asked to my friend in an interview, so I can't skip it. The main point is that bulb gets hot slowly when turned on. Turn on bulb 1 and 2 keeping others off. Wait for 20 minutes. Switch off 2 and turn on 3, quickly enter room and touch the bulb. If the bulb is:\n\non and hot -> switch 1 controls it\noff but hot -> 2\non but cool -> 3\noff and cool -> 4",
  },
  {
    "puzzleId": 5,
    "title": "Lucky Candy",
    "difficulty": "easy",
    "category": "probability",
    "question": "How do you place 50 good candies and 50 rotten candies in two boxes such that if you choose a box at random and take out a candy at random, it better be good!\nThat means probability of choosing a good candy should be highest.",
    "hint": "Placing all bad in 1 box and all good in another will give probability of choosing good just half. But placing only one type of candy in one box makes sure that good candy has a probability of at-least 1\/2",
    "answer": "Put 1 good candy in one box and all other (49 good and 50 rotten candies) in second box",
    "solution": "Put 1 good candy in one box and all other (49 good and 50 rotten candies) in second box. This will give a probability of (1\/2)*1 + (1\/2)*(49\/100) = 74.5%",
  },
  {
    "puzzleId": 6,
    "title": "All Girls World?",
    "difficulty": "easy",
    "category": "probability",
    "question": "In a world where everyone wants a girl child, each family continues having babies till they have a girl. What do you think will the boy to girl ratio be eventually? (Assuming probability of having a boy or a girl is the same)",
    "answer": "1:1",
    "solution": "Suppose there are N couples. First time, N\/2 girls and N\/2 boys are born (ignoring aberrations). N\/2 couples retire, and rest half try another child. Next time, N\/4 couples give birth to N\/4 girls and rest N\/4 boys. Thus, even in second iteration, ratio is 1:1. It can now be seen that this ratio always remain same, no matter how many times people try to give birth to a favored gender.",
  },
  {
    "puzzleId": 7,
    "title": "Tigers & The Sheep",
    "difficulty": "easy",
    "category": "strategy",
    "source": "Common",
    "question": "Hundred tigers and one sheep are put on a magic island that only has grass. Tigers can live on grass, but they want to eat sheep. If a Tiger bites the Sheep then it will become a sheep itself. If 2 tigers attack a sheep, only the first tiger to bite converts into a sheep. Tigers donâ€™t mind being a sheep, but they have a risk of getting eaten by another tiger. All tigers are intelligent and want to survive. Will the sheep survive?",
    "hint": "Instead of 100, think of 1 or 2 tiger's case.",
    "answer": "Sheep survives!",
    "solution": "If there is 1 tiger, then it will eat the sheep because he does not need to worry about being eaten. Sheep will not survive.\nIf there are 2 tigers, both of them knows that if one eats the Sheep, the other tiger will eat him. So, the sheep will survive.\n\nIf there are 3 tigers, then they each of them knows that if one tiger eats up the sheep, then Iceland will be left with 1 sheep and 2 tigers and as shown in the previous case, the sheep will survive. Hence each tiger will try to eat up the sheep. The sheep will not survive.\n\nIf there are 4 tigers, then the sheep will survive.\n\nAnd so onâ€¦.\n\nSo, If there are even number of tigers the sheep will survive, else it will die. Hence, if there are 100 tigers the sheep will survive.",
  },
  {
    "puzzleId": 20,
    "title": "Waiting for the Train",
    "difficulty": "easy",
    "category": "probability",
    "question": "Spiderman has two girlfriends, Mary Jane & Gwen Stacy. After every mission, he rushes to the central subway. Since spidey is a nice man, much impartial, he takes which-ever train arrives first. From subway, one series go towards Mary's place, and another series move towards Stacy. Trains from either series appear every 10 minutes. Also, Peter Parker sticks with the train which arrives first. \nBut somehow, he notices that he is spending 9 times more dates with Mary Jane than Stacy. Can you explain why?\n",
    "hint": "Do you think ratio should be 50:50? Do you think the gap between each train's arrival is 5 minutes? Can a train arrive always earlier than the other and still be at every 10 minutes gap?",
    "solution": "Train to Mary Jane's place comes at say times 0 and 10, while the train to Stacy's place comes at times 1 and 11. So 9\/10 times, train to Mary Jane's place is appearing earlier.\n",
  },
  {
    "puzzleId": 21,
    "title": "2 Eggs",
    "difficulty": "easy",
    "category": "strategy",
    "source": "Quant Interview",
    "question": "An Egg breaks only if dropped from above a threshold floor, within this 100 story building. Every time you drop the egg, it is counted an attempt. You are given two eggs, find an algorithm to deduce the threshold floor, with minimum number of attempts in worst case!\n",
    "hint": "If we had only 1 egg, we would go linearly from 1 to 100. Having an extra egg gives an opportunity to jump (skip some floors from testing). When 1st egg breaks, second egg moves linearly. Think why first egg should not move in constant jumps, but rather decreasing jumps! This will give 14 steps in the worst case.\n",
    "answer": "It can be done in 14 steps in the worst case.",
    "solution": "A solution for minimum steps in worst case is the smallest integer greater than or equal to the positive solution of n(n+1)\/2=100...which gives 14....\nstart at 14th floor, if egg breaks start linearly from 1, if it does not break drop the egg from 14+13 = 27th floor, and so on....\n\nMy friend was asked only one puzzle in his interview, \"3 eggs\". He got the job.",
  },
  {
    "puzzleId": 22,
    "title": "e^Pi or Pi^e",
    "difficulty": "easy",
    "category": "general",
    "question": "Without explicitly calculating, find out which is bigger: e^Pi or Pi^e?",
    "answer": "e^Pi",
    "solution": "This is a common placement test question. Since e^x = 1 + xâ€¦., we have e^x>1+x. Now, conveneintly choosing x = (Pi \/ e -1) and solving, we get e^Pi > Pi^e.\n\nAnother way is to observe for f(x) = x^(1\/x), differentiating: f'(x) = f(x)*(1\/x^2)*(1- ln x);  f is decreasing for x > e so pi^(1\/pi) < e^(1\/e); hence e^(pi)> pi^(e)\n\nAnother approach is to assume e^Pi > Pi^e <=> Pi*lne > e*ln Pi <=> lne\/e > lnPi\/Pi. Now, notice that f(x) = lnx\/x is decreasing function since f'(x) is negative in range (e<x<pi), hence above assumption is true!",
  },
  {
    "puzzleId": 23,
    "title": "Shooting in Circle",
    "difficulty": "easy",
    "category": "general",
    "source": "Written Tests",
    "question": "100 pirates stand in a circle. They start shooting alternately in a cycle such that 1st pirate shoots 2nd, 3rd shoots 4th and so on. They continue in circle till only one pirate is left. Which position should Captain Jack Sparrow stand to survive?",
    "solution": "This is not a puzzle at all, this is apti\/maths question, but has become quite common. You can calculate for a N=100, 73rd position is safe. For a general N, find largest m such that 2^m < N. Take t = N-2^m. Then Safe position is 2*t + 1. Please learn this formula. No need to prove it using strong induction. Proof: http:\/\/en.wikipedia.org\/wiki\/Josephus_problem#k.3D2",
  },
  {
    "puzzleId": 24,
    "title": "Invisible Dice",
    "difficulty": "easy",
    "category": "probability",
    "source": "Technical Interview",
    "question": "There is a regular die and a special invisible die. You know that regular die has integers 1 to 6, but don't know what's on the invisible dice. After tossing, I speak the sum of outcome of both die. It so happens that the outcome is an interger between 1 to 12, with equal probability (1\/12 each). Can you guess what are the numbers printed on special invisible dice?\n",
    "hint": "For the sum to be 1, we need atleast 0, and for sum to be 12, what do we need? Can you guess the digits of invisible dice now?",
    "answer": " 0 0 0 6 6 6",
    "solution": "Faces of cube have numbers: 0 0 0 6 6 6 . If we compute conditional probability, we get 0 with probabilty (1\/2) and 6 with probability (1\/2). Hence the sum is 1,2....12 with probability of (1\/12) each",
  },
  {
    "puzzleId": 25,
    "title": "Daughter or Son",
    "difficulty": "easy",
    "category": "probability",
    "source": "Written Test",
    "question": "Sheldon says \"Suppose I have two children. Younger one is a girl\". What is the probability that both children are girls?\n\n\"Forget all that, and suppose I have two children, and atleast one of them is a boy\". Find probability of two boys.\n\n\"Suppose I have two kids, lets call them Bouba and Kiki\", says Dr. Cooper, \"and suppose Bouba is a girl !\" What is the probability that I have two daughters?\"",
    "answer": "1\/2, 1\/3, 1\/3",
    "solution": "First and second are un-ambiguous. Third is debatable as per the interpretation. I believed 1\/3, as the names Cooper used were anonymous, and should have given no extra information. But it turns out that Cooper did provide some extra information. He had actually fixed a person (A). Also, calculating the probability in part 3 using conditionals will give 1\/2.",
  },
  {
    "puzzleId": 26,
    "title": "Dark Room Deck",
    "difficulty": "easy",
    "category": "general",
    "source": "Quant Interview",
    "question": "In a dark room, there is a deck of 52 cards, with exactly 10 cards facing up, rest facing down. You need to split this into two decks with equal number of cards facing up!",
    "hint": "The question can be solved even when up facing cards are 11. The split decks need not have equal number of up-facing cards.\n",
    "solution": "Create a deck of k cards randomly from the original 52-card deck, (k=10 here) and then turn over the k-card deck. Goal is achieved!",
  },
  {
    "puzzleId": 27,
    "title": "Cheating Husbands",
    "difficulty": "easy",
    "category": "strategy",
    "source": "Common",
    "question": "A certain town comprises of 100 married couples. Some husbands secretly cheat on their wives. All wives know about the nature of every husband except their own. When a wife concludes that her husband cheated, she kicks her husband into the street at midnight. All husbands remain silent about their secret. One day, the mayor of the town announces to the whole town that there is at least 1 cheating husband in the town. After announcement, no one talks, waiting for someone to get kicked. Till 9th night from announcement, no husband was kicked, but on the 10th night, some husbands got kicked out simultaneously. How many are they?",
    "hint": "What happens if only one husband cheated?",
    "solution": "It must be 10 husbands kicked out.\nIf there was only 1 cheating husband in the town, there will be 99 women who know exactly who the cheater is. The 1 remaining woman, who is being cheated on, would have assumed there are no cheaters. But now that the mayor has confirmed that there is at least one cheater, she realizes that her own husband must be cheating on her. So her husband gets kicked on the day of the announcement.\n\nNow letâ€™s assume there are 2 cheaters in the town. There will be 98 women in the town who know who the 2 cheaters are. The 2 wives, who are being cheated on, would think that there is only 1 cheater in the town.  Since neither of these 2 women know that their husbands are cheaters, they both do not report their husbands in on the day of the announcement. The next day, when the 2 women see that no husband was kicked, they realize that there could only be one explanation â€“ both their husbands are cheaters. Thus, on the second day, 2 husbands are kicked.\n\nThrough induction, it can be proved that when this logic is applied to n cheating husbands, they are all kicked on the n th day after the mayorâ€™s announcement. Hence it must be 10 husbands kicked in our case.",
  },
  {
    "puzzleId": 28,
    "title": "Father of lies",
    "difficulty": "easy",
    "category": "probability",
    "source": "Written Test",
    "question": "A father claims about snowfall last night. First daughter tells that the probability of snowfall on a particular night is 1\/8. Second daughter tells that 5 out of 6 times the father is lying! What is the probability that there actually was a snowfall?",
    "hint": "Conditional Probability or Baye's Theorem",
    "solution": "Let S = Snowfall occurred, and C = Claim\n\n
      Probability of (Snowfall given Claim) = $P(S | C) = \\frac{P(C|S)*P(S)}{P(C)}$\n\n
      $P(C|S) = 1\/6$,  $P(S) = 1\/8$\n\n
      $P(C)$ = P(true claim) + P(False Claim) = $P(C|S)*P(S)$ + $P($ false claim | no snow) * P(no snow)\n\n
      This is same as $[1\/6*1\/8]\/[ 1\/6*1\/8 + 7\/8*5\/6] = 1\/36$",
  },
  {
    "puzzleId": 29,
    "title": "Devil's Penny",
    "difficulty": "easy",
    "category": "general",
    "question": 'You are in a game against devil, on a perfectly round table and with an infinite pile of pennies. He says, "OK, we''ll take turns putting one penny down, no overlapping allowed, and the pennies must rest flat on the table surface. The first guy who can''t put a penny down loses." You can go first. How will you guarantee victory?',
    "hint": "Try the problem if coins have unit radii, and table has radius 1 & 3.",
    "solution": "You place a penny right in the center of the table. After that, whenever the devil places a penny on the table, mimic his placement by placing a penny diametrically opposite and at same distance from center. If he has a place to place a penny, so will you. The devil will run out of places to put a quarter before you do.",
  },
  {
    "puzzleId": 30,
    "title": "Witches at the coffee shop",
    "difficulty": "easy",
    "category": "probability",
    "question": "Two witches make a nightly visit to an all-night coffee shop. Each arrives at a random time between 0:00 and 1:00. Each one of them stays for exactly 30 minutes. On any one given night, what is the probability that the witches will meet at the coffee shop?",
    "hint": "Graph Shading",
    "answer": "3\/4",
    "solution": "Plot the graph of X and Y, where X and Y denote the time each witch arrives. This will form a 60x60 square for total feasible region. The probability that they meet is |X-Y|<= 30. Draw this as favorable region, by joining line (30,0) with (60,30) and (0,30) with (30,60). Clearly the interior of this region has area 3\/4 th of total. Hence the probability = 3\/4 = 0.75",
  },
  {
    "puzzleId": 31,
    "title": "Poisonous wine",
    "difficulty": "easy",
    "category": "strategy",
    "source": "Common",
    "question": "So there's this king. Someone breaks into his wine cellar where he stores 1000 bottles of wine. This person proceeds to poison one of the 1000 bottles, but gets away too quickly for the king's guard to see which one he poisoned or to catch him.\n\nThe king needs the remaining 999 safe bottles for his party in 4 weeks. The king has 10 prisoners who deserve execution. The poison takes about 3 weeks to take effect, and any amount of it will kill whoever drinks it. How can he figure out which bottle was poisoned in time for the party?\n",
    "hint": "Convert to binary strings?",
    "solution": "The king has to mix wine in order to isolate the single poisoned one. 2) There are 10 servants. After about 3 weeks, each one can be either dead or alive, meaning that there are 2^10 = 1024 possible outcomes. Since 1024 > 1000, it's actually possible for some scheme to work. \n\nHere's the scheme: The king assigns each servant a number from 1-10. The king assigns each bottle a number from 0-999. When he labels them, though, he writes the number on the bottle in binary with ten digits, like this: 0: 000000000 1: 000000001 2: 000000010 3: 000000011 4: 000000100 5: 000000101 ... 999: 1111100111 and so on.\n\nNow the strategy is simple: Pick bottle 1, write its binary form, look at the positions where '1' appears (here: 1st only). Make the corresponding prisoner drink small quantitiy of that wine. (ie prisoner 1 takes a sip of wine #1). Continue this process upto 1000th wine. After 3 weeks, suppose only prisoner number 4 & 7 die. This means the binary representation of poisoned wine has '1' at position 4 & 7, and rest all zeros. Convert this binary number to decimal and that gives the poisoned wine.\n",
  },
  {
    "puzzleId": 101,
    "title": "Drunk Passenger?",
    "difficulty": "medium",
    "category": "probability",
    "question": "A line of 100 airline passengers is waiting to board a plane. They each hold a ticket to one of the 100 seats on that flight. For convenience, let's say that the nth passenger in line has a ticket for the seat number 'n'. Being drunk, the first person in line picks a random seat (equally likely for each seat). All of the other passengers are sober, and will go to their proper seats unless it is already occupied; If it is occupied, they will then find a free seat to sit in, at random.\nWhat is the probability that the last (100th) person to board the plane will sit in their proper seat (#100)?\n",
    "hint": "Can last passenger arrive at any other seat than 1 or 100?",
    "answer": "1\/2",
    "solution": "Notice that the last passenger can only take seat #1 or #100. If any passenger takes seat #1, the cycle stops, and all the subsequent passengers take their own seats (including last). Otherwise, if #100 seat is taken before #1, the cycle is paused, i.e., the subsequent passengers do take their own seats, but the last passenger would take seat #1. Now for any passenger from 1st to 99th, who is picking random vacancy, will choose between #1, #100 or any other seat equally likely. Thus, by symmetry, #1 or #100, any one will be taken first - with equal probability. Hence last person ends up at his seat with probability 0.5\n\n",
  },
  {
    "puzzleId": 102,
    "title": "Stick to Triangle",
    "difficulty": "medium",
    "category": "probability",
    "source": "Quant Interview",
    "question": "A stick is broken into 3 parts, by choosing 2 points randomly along its length. With what probability can it form a triangle?",
    "hint": "All three broken parts must satisfy the triangle inequality. Or rather, each of the broken part must be less than half of stick's length.",
    "answer": "1\/4",
    "solution": "All 3 sides have to have lengths less than half the length of the stick. the conditions are min{ x.y}<= 0.5; max{x,y}>=0.5; |x-y|<=0.5 . looking at the unit square, and dividing into 8 congruent triangles by lines parallel to the axes and y=x line, its easy to see 2 of the 8 triangles satisfy the condition. so the answer is 1\/4",
    "comment": "Question 5 here: http:\/\/www.isds.duke.edu\/courses\/Fall05\/sta104\/hw\/hw08sol.pdf",
  },
  {
    "puzzleId": 103,
    "title": "Rabbit on the Staircase",
    "difficulty": "medium",
    "category": "discrete",
    "question": "A rabbit sits at the bottom of a staircase with n stairs. The rabbit can hop up only one or two stairs at a time. What kind of sequence is depicted by the different ways possible for the rabbit to ascend to the top of the stairs of length n=1,2,3...?",
    "hint": "Recursion",
    "answer": "Fibonacci Sequence.",
    "solution": "Suppose f(n) are the number of ways to reach nth stair. Notice that the final hop is either a single jump or double jump, i.e. its from (n-1)th stair or (n-2)th. Thus f(n) = f(n-1) + f(n-2), where f(0)=f(1)=1.  This is Fibonacci sequence.",
  },
  {
    "puzzleId": 104,
    "title": "Sharing Wood",
    "difficulty": "medium",
    "category": "discrete",
    "source": "CSEblog",
    "question": "A. B & C live together and share everything equally. One day A brings home 5 logs of wood, B brings 3 logs and C brings none. Then they use the wood to cook together and share the food. Since C did not bring any wood, he gives \\$8 instead. How much to A and how much to B?",
    "hint": "Its not 5 & 3",
    "solution": "Since each person consumed 8\/3 woods. A gave 5-8\/3 = 7\/3 woods to C and B gave 3-8\/3 = 1\/3 woods to C.\nSo, Out of the 8 dollars, A gets 7 and B gets 1 ",
  },
  {
    "puzzleId": 105,
    "title": "Infinity & Beyond",
    "difficulty": "medium",
    "category": "strategy",
    "source": "CSEblog",
    "question": "Suppose you have a hotel which has one floor with infinite number of rooms in a row and all of them are occupied.\n1) A new customer wants to check in, how will you accommodate her? \n2) What if infinite number of people want to check in, how will you accommodate them? \n3) Suppose infinite number of buses arrive at the hotel, each having infinite number of people, how will you accommodate them?",
    "hint": "Define Infinity ;)",
    "solution": "1) Since there are infinite number of rooms and infinite+1= infinite\nJust ask person in room k to move to k+1, thus making the first room vacant. :)\n\n2) In the other case, since infinite+infinite = infinite\nasking person in room k to move to 2k solves the problem.\n\n3) Since NxN is countable set. We can get a 1-1 mapping from N to NxN\nHence, we can accommodate (infinite people X infinite buses) in the hotel.\n\nRelevant article:\nhttp:\/\/en.wikipedia.org\/wiki\/Cantor_pairing_function",
  },
  {
    "puzzleId": 106,
    "title": "Chuck a Luck",
    "difficulty": "medium",
    "category": "probability",
    "source": "50 puzzles in prob",
    "question": "In this gambling game, a player can buy a ticket for Rs 1 on any number from 1 to 6. Three identical and unfair dice are rolled. If the booked number appears on 0, 1, 2 or 3 dice, player wins Rs 0, 1, 2 or 3 respectively, without returning the original Rs 1. What is expected money you can win after buying a ticket for Rs 1?",
    "hint": "Book the full house",
    "answer": "1\/2",
    "solution": "We bet Rs 1 on each number 1-6. In any case, we get Rs 3 back. That is 1\/2 per ticket. Hence the expected amount of money we can win is 1\/2. A tedious way to arrive at this answer is to calculate the probability of getting 1, 2 or 3 faces common to our booking.",
  },
  {
    "puzzleId": 107,
    "title": "MULTILINGUAL",
    "difficulty": "medium",
    "category": "discrete",
    "source": "Quantnet",
    "question": "A group has 70 members. For any two members X and Y there is a language that X speaks but Y does not, and there is a language that Y speaks but X does not. At least how many different languages are spoken by the members of this group?",
    "solution": "8 choose 4 is 70",
  },
  {
    "puzzleId": 108,
    "title": "Guess the Toss",
    "difficulty": "medium",
    "category": "probability",
    "source": "Top Quant Interview",
    "question": "A and B are in a team called AB, playing against C. If AB team wins it gets Rs 3, nothing otherwise.\n\nGame is: A and B are placed in 2 separate rooms far away. A will toss a coin and B will also toss a coin; A will have to guess outcome of B's toss and B will guess A's. If both guesses are right, team AB wins Rs 3, nothing otherwise.\nShould they play the game, by giving Rs 1 in start to C.",
    "hint": " Winning probability in not 1\/4. They can make strategy before game.\n",
    "answer": "1\/2",
    "solution": " They will have same coin with probability 1\/2. They can speak their own coin's face as the guess of other's. They win game with probability 1\/2. Pay off will be positive, and hence they should play!",
  },
  {
    "puzzleId": 109,
    "title": "Pattern on Snowflakes",
    "difficulty": "medium",
    "category": "probability",
    "source": "Self",
    "question": "Snow-particles are falling on the ground one after another. A particular snowflake turns out to be of type \"Stellar Dendrite\" with probability 'p' if its previous particle was also Stellar Dendrite, and with probability 'q' if previous one was something else. If a snowflake is picked from ground, what is the probability that it is Stellar Dendrite?\n\nPS:Although no two snowflakes are alike, yet there are various crystalline structures to categorize their interesting shapes. The image depicts the most popular shape, called Stellar Dendrites, which means star-like particles with tree-like branches.",
    "questionImage": "stellar_dendrite.png",
    "hint": "Need to form a recursive equation of conditional probability",
    "answer": "probability is q\/(1-p+q)",
    "solution": "Solution by Palak:\nLet x be the probability that a snowflake picked from ground is Stellar Dendrite. Thus, when a new snowflake is falling, with prob=x the last snowflake was Stellar Dendrite => prob the new falling snowflake is Stellar Dendrite = x*p + (1-x)*q. But, for the composition of the snowflakes on the ground to remain constant, xp+(1-x)q should be =x => x=1\/(1+(1-p)\/q)\nThis is a kind of steady state analysis.",
    "comment": "",
  },
  {
    "puzzleId": 110,
    "title": "King's Salary",
    "difficulty": "medium",
    "category": "strategy",
    "source": "P. Winkler",
    "question": 'After the revolution, each of the 66 citizens of a certain city, including the king, has a salary of 1. King cannot vote, but has the power to suggest changes - namely, redistribution of salaries. Each person''s salary must be a whole number of dollars, and the salaries must sum to 66. He suggests a new salary plan for every person including himself in front of the city. Citizens are greedy, and vote yes if their salary is raised, no if decreased, and don''t vote otherwise.  The suggested plan will be implemented if the number of "yes" votes are more than "no" votes. The king is both, selfish and clever. He proposes a series of such plans. What is the maximum salary he can obtain for himself?',
    "hint": "notice:  (1) that the king must temporarily give up his own salary to get things started, and (2) that the game is to reduce the number of salaried citizens at each stage.",
    "answer": 63,
    "solution":
      "Continuing from the hint, The king begins by proposing that 33 citizens have their salaries doubled to \\$2, at the expense of the remaining 33 (himself included). Next, he increases the salaries of 17 of the 33 salaried voters (to \\$3 or \\$4) while reducing the remaining 16 to \\$0. In successive turns, the number of salaried voters falls to 9, 5, 3, and 2. Finally, the king bribes three paupers with \\$1 each to help him turn over the two big salaries to himself, thus finishing with a royal salary of \\$63. It is not difficult to see that the king can do no better at any stage than to reduce the number of salaried voters to just over half the previous number; in particular, he can never achieve a unique salaried voter. Thus, he can do no better than \\$63 for himself, and the six rounds above are optimal\n\n
      Note: It is possible to reach \\$65 if the King could vote (watchout for variants!).\n\n

      ",
  },
  {
    "puzzleId": 111,
    "title": "Counting on friends",
    "difficulty": "medium",
    "category": "discrete",
    "source": "Top Quant Interview",
    "question": "At a party of $N \\ge 2$ people, there are some friendships.
      Prove that there are at-least two people with the same count of friends.\n\n
      Assume that the friendships are symmetric, i.e, if $A$ is friends with $B$, then $B$ is in turn friends with $A$. ",
    "hint": "Pigeonhole Principle",
    "answer": "Since there are $N-1$ possibilities for friend-count and total $N$ people, atleast two people must have the same count.",
    "solution": "
      The question can be solved by using the Pigeonhole Principle, which essentially states that if there are more pigeons than pigeonholes, then there must be at least one pigeonhole with more than one pigeon.\n\n

      In this party of $N$ people, indexed from $1$ to $N$. The maximum number of friends a person can have is $N-1$, because one can be friends with every other person but not with oneself. So the possible number of friends one can have ranges from $0$ to $N-1$, a total of $N$ possibilities.\n\n

      Note: If someone has zero friends, then someone else can have atmost $N-2$ friends, alternatively if someone has $N-1$ friends then someone else must have at-least $1$ friends.\n\n

      Hence, the total possibilities of the count of friends ranges from $0$ to $N-2$ or from $1$ to $N-1$, i.e, total $N-1$ possibilities, but there are only $N$ people at the party. \n\n

      Let's consider the count of friends as \"pigeonholes\" and people as \"pigeons\". Notice that there are $N$ people (\"pigeons\") and $N - 1$ different count of friends (\"pigeonholes\").\n\n

      So, by the Pigeonhole Principle, at least two people must have the same count of friends in the party of $N$ people.\n\n

      There's another way to solve this.\n\n

      **Proof by Contradiction**:
      Assume that every person has a different number of friends from $0$ to $N - 1$.
      We would have a situation where one person has $0$ friends and another person has $N-1$ friends. This, however, contradicts the premise that friendships are symmetric, because if one person has $N-1$ friends, there cannot be someone with $0$ friends. Hence not everyone has a different number of friends
      ",
  },
  {
    "puzzleId": 112,
    "title": "Random Ratio",
    "difficulty": "medium",
    "category": "probability",
    "source": "Written Test",
    "question": "p and q are two points chosen at random between 0 & 1. What is the probability that the ratio p\/q lies between 1 & 2?",
    "hint": "Graph Shading. (Whenever we see two uniform random variables, we graph them up!)",
    "solution": "Assume that the points are x & y. Create x-y graph, and our desired region is the area between lines y=x & y=2x. This region is 1\/4th of the rest.",
  },
  {
    "puzzleId": 114,
    "title": "Second Chance",
    "difficulty": "medium",
    "category": "probability",
    "source": "CSEblog",
    "question": "Roll a die, and you get paid what the dice shows. But if you want, you can request a second chance & roll the die again; get paid what the second roll shows instead of the first. What is the expected value?",
  },
  {
    "puzzleId": 115,
    "title": "Innocent Monkey",
    "difficulty": "medium",
    "category": "probability",
    "source": "Self, to show an example of recursive probability",
    "question": "A very innocent monkey throws a fair die. The monkey will eat as many bananas as are shown on the die, from 1 to 5. But if the die shows '6', the monkey will eat 5 bananas and throw the die again. This may continue indefinitely. What is the expected number of bananas the monkey will eat?",
    "hint": "Law of total probability",
    "answer": 4,
    "solution": "This uses law of total probability very silently, i.e., E( E(X|Y) ) = E(X). Suppose X expected number bananas eaten overall and Y = number shown on dice.\nE1 = E( X | Y = 1,2,3,4,5) = 3\nE2 = E( X | Y = 6) = 5 + E(X)\nnow, E(X) = 5\/6*E1 + 1\/6*E2\nSolving this simple equation gives E(X) = 4",
  },
  {
    "puzzleId": 116,
    "title": "Consecutive Heads",
    "difficulty": "medium",
    "category": "probability",
    "source": "Top Quant Interview",
    "question": "What is the expected number of coin tosses required to get n consecutive heads?",
    "hint": "That sum wont work! Just find the recursive relation.",
    "answer": "En = 2Enâˆ’1 + 2, giving En = 2^(n+1)-2",
    "solution": "Define let Xn = number of tosses to get n consecutive heads; E(Xn) = expected number of coin tosses we require from now on, to get n consecutive heads. Recall the law of total probability,\nE(Xn) = E ( E(Xn) |Y) )\nwhere Y = current toss (either Head or tail).\nEn = (1\/2)( E(Xn) | H) + (1\/2)( E(Xn) | T)\nEn = (1\/2)( E(X(n-1)) + 1 |H) + (1\/2)( E(Xn) + 1 | T)\nthe extra 1 is because we just used a toss\nEn = 1 + (1\/2)*E(n-1) + (1\/2)*En\nThis above equation is logical and should be written directly.\n=> En = 2E(n-1) + 2\n\nThis simplifies to 2^(n+1)-2 as E0 = 0. (not required)",
  },
  {
    "puzzleId": 117,
    "title": "Chess Tournament",
    "difficulty": "medium",
    "category": "probability",
    "question": "A chess tournament has K levels and 2^K players with skills 1 > 2 > ... >2^K. At each level, random pairs are formed and one person from each pair proceeds to next level. When two opponents play, the one with better skills always wins. What is the probability that players 1 and 2 will meet in the final level?",
    "hint": "Consider K=1 (2 players), the probability is 1.\nConsider K=2 (4 players); first round can be in following ways:\n1-2 | 3-4\n1-3 | 2-4\n1-4 | 2-3\nThey don't meet in finals in first case (of 3). Thus, for K=2, the probability that they meet is 2\/3.\nI assure you that this probability gets close to 1\/2 for large K. Just notice that if 1 and 2 meet before final, they dont meet at final.",
    "answer": "N\/2(N-1)",
    "solution": "If you worked out conditional probability, that is fine. Here we present the combinatorial solution. Imagine the levels proceed in any random way such that player X and Y appear for final level. This can be imagined as N players getting partitioned into two groups of N\/2 players each, with player X topping in first group and player Y in second. The best player of each partition reaches final. We only need to ensure that above partition separates player 1 from 2. The probability that a random partition separates 1 & 2 is (N\/2) \/ (N-1) (how?)\n\nHere is how: for creating a partition to separate them, we pick (N\/2) people from N, wishing to take player 1, but not player 2. \n",
  },
  {
    "puzzleId": 118,
    "title": "Number of Double Heads",
    "difficulty": "medium",
    "category": "probability",
    "source": "Placement Test",
    "question": "A coin is tossed 10 times and the output written as a string. What is the expected number of HH? Note that in HHH, number of HH = 2. (eg: expected number of HH in 2 tosses is 0.25, 3 tosses is 0.5)",
    "hint": "Recursion",
    "solution": "Let the expected number of HH for n tossed is E(n). So, probability that an (n-1) toss experiments, ends in T is 1\/2.\nSo, E(n) = 1\/2*E(n-1) + 1\/2*( 1\/2*(E(n-1)+1) + 1\/2*(E(n-1)))\n(The first case when it ends in T. & The second case when it ends in H.\nIn the second case, if you get an H then, you get 1 more HH. )\nSo, E(n) = E(n-1) + 1\/4, us E(2) = 1\/4\nSo, E(n) = (n-1)\/4\nFor n=10, E(10) = 2.25",
  },
  {
    "puzzleId": 119,
    "title": "Breaking Stick",
    "difficulty": "medium",
    "category": "probability",
    "source": "Quant Interview",
    "question": "The stick drops and breaks at a random point distributed uniformly across the length. What is the expected length of the smaller part?",
    "solution": "The probability that the break point belongs to first half is 1\/2. In this case, the expected length of the small part is L\/4. Its L\/4 in the other case too. Hence E = 1\/2*L\/4 + 1\/2*L\/4 = L\/4",
  },
  {
    "puzzleId": 120,
    "title": "Prisoner's Hat (multicolor)",
    "difficulty": "medium",
    "category": "strategy",
    "question": '100 prisoners are lined up and assigned a random hat These hats are available in 10 different unique and distinguishable colors. Each prisoner can see the hats in front of him but not behind. Starting with the prisoner in the back of the line and moving forward, they must each, in turn, say only one word which must be the color like "red" or "blue" or "green" etc. If the word matches their hat color they are released, if not, they are killed on the spot. They can hear each others answers, no matter how far they are on the line. What strategy should be used to help release maximum number of prisoners?',
    "hint": "Try prisoner's Hat puzzle first",
    "solution": "Call the first person in back of row the 100th prisoner. The 10 colours will be given codes from 0 to 9. The 100th prisoner will sum the numbers associated with the 99 colours he sees and will say the colour corresponding to it modulo 10. This is enough for 99th person. All he needs to do now is connect the dots, sum the number of hats he can see, calculate modulo 10, and compare it with what 100th prisoner said. This way all 99 prisoners will be saved, and 100th prisoner dies with probability 9\/10.",
  },
  {
    "puzzleId": 121,
    "title": "Rainbow Hats",
    "difficulty": "medium",
    "category": "strategy",
    "source": "lieno",
    "question": "N people team up and decide on a strategy for playing this game. Then they walk into a room.  On entry to the room, each person is given a hat on which one of the first N natural numbers is written. There may be duplicate hat numbers. For example, for N=3, the 3 team members may get hats labeled 2, 0, 2.  Each person can see the numbers written on the others' hats, but does not know the number written on his own hat. Every person then simultaneously guesses the number of his own hat.  What strategy can the team follow to make sure that at least one person on the team guesses his hat number correctly?",
    "hint": "Modulo?",
    "solution": "Let the persons be numbered 0 to N-1. The i-th person should announce 1 + (i-s)mod N, where s is the sum of numbers he sees. With this strategy, if the sum of all N numbers equals 1 + (m mod N), then the m-th gnome is guaranteed to announce the number of his own hat!",
    "comment": "original: what's MY Hat Number",
  },
  {
    "puzzleId": 122,
    "title": "2 Equations & 3 Unknowns ",
    "difficulty": "medium",
    "category": "general",
    "source": "Quantnet Forums",
    "question": "I guessed 3 natural numbers - $x, y, z$. You can ask me 2 sums of these numbers with any integer coefficients - $(a, b, c)$. That is, you give me a, b and c and I tell you the result of the expression $a*x+b*y+c*z$. Seeing the answer, you then give me the 2nd triplet of $(a,b,c)$ & I will tell $a*x+b*y+c*z$. Give me the algorithm to find $x$, $y$ and $z$.",
    "hint": "If digits are small, we can solve any number of variables by asking $a=1, b=10^{100}, c=10^{200}$ etc. just by reading these numbers between the zeros of result.",
    "solution":
      "Since they are natural numbers, if you knew the maximum number of digits any of them can have, say d, you could set a=1, b=10^d, c=10^2d, and you would be able to read the d-digit numbers directly. So, you use the first calculation to find the maximum number of digits, $(a,b,c)=(1,1,1)$.  let $d =$ digits of this result $(x+y+z)$\n
      Then, set $(a,b,c) = (1, 10^d, 10^{2d})$ Let the sum be $S$.\n
      Then $x =$ (first $d$ digits of $S$), $y = [d+1]$ to $2d$-digits of S, $z$ = $[2d+1$ to $3d]$ digits of $S$\n\n
      Thus, we note that its posssible to solve for n natural numbers $x_1,x_2,...x_n$ with just $2$ questions.",
  },
  {
    "puzzleId": 123,
    "title": "Domino Covering",
    "difficulty": "medium",
    "category": "discrete",
    "source": "Martin Gardner",
    "question": "An 8x8 chessboard can be entirely covered by 32 dominoes of size 2x1. Suppose we cut off two opposite corners of chess (i.e. two white blocks or two black blocks). Prove that now it is impossible to cover the remaining chessboard with 31 dominoes.",
    "hint": "The two diagonally opposite corners are of the same color.",
    "solution": "The two diagonally opposite corners are of the same color. A domino covers adjacent faces & hence a domino always covers 1 black and 1 white square. The 31 dominoes will cover 31 blacks and 31 whites. The chess has 30 & 32 square instead. Hence this can't be done.",
  },
  {
    "puzzleId": 124,
    "title": "Fruit Magic",
    "difficulty": "medium",
    "category": "discrete",
    "question": "13 Apples, 15 Bananas and 17 Cherries are put in the magic hat. When ever a collision of two different fruits occurs, they both get converted into the third type. For example 1 Apple and 1 Banana can collide to form 2 cherries. No other collision is holy. Can a sequence of such magical collisions lead all 45 fruits to give just one type?",
    "hint": "This can't be done. Try to create a function of A,B,C which remains constant during a collision to get contradiction.",
    "solution": "Create the invariant function f(A,B,C) = (0A+1B+2C)mod3, this function remains constant during a collision. But f(13,15,17) = 1 is not same as any of final states f(45,0,0)=f(0,45,0)=f(0,0,45)=0. Hence this can not be done.\n\nA refreshment to this old trick was given by Aritro Pathak:\ncall the no of times apples are increased by 2 as A, bananas increased by 2 as B, and cherries increased by 2 as C. if we need 45 apples,total increments - decrements of apple = 32\nbut increments of apple = 2*A;\nwhen ever 2 banana's are created, 1 Apple is lost, similarly for 2 cherries\ndecrements = B+C\n\nthus we have 2A-B-C=32, -2B+C+A=15, -2C+B+A=17. Subtract the last two to get 2=3*(B-C) which is impossible. similar cases for when you want 45 of either cherries or bananas.",
  },
  {
    "puzzleId": 125,
    "title": "Catching Ants",
    "difficulty": "medium",
    "category": "discrete",
    "question": "There are 51 ants sitting on top of a square table with side length of 1. If you have a square card with side 1\/5, can you put your card at a position on the table to guarantee that the card encompasses at least 3 ants?\n\n(updated: square card was originally disk of radius 1\/7)",
    "hint": "Pigeonhole principle",
    "solution": "To guarantee that the card encompasses at least 3 ants, we can separate the square into 25 smaller areas (squares of side 1\/5 each). Applying the generalized Pigeon Hole Principle, we can show that at least one of the areas must have at least 3 ants. The card is large enough to cover any of the 25 smaller areas. Done!",
  },
  {
    "puzzleId": 126,
    "title": "Color Complex",
    "difficulty": "medium",
    "category": "discrete",
    "source": "Top Quant Interview",
    "question": "On a 2D complex plane, all the integer-component points are coloured either White or Black. Is Possible to find a rectangle parallel to axis which has all corners of same color?",
  },
  {
    "puzzleId": 127,
    "title": "Light Bulbs in circle",
    "difficulty": "medium",
    "category": "discrete",
    "source": "P. Winkler",
    "question": "In a circle are light bulbs numbered 1 through n, all initially on. At time t, you examine bulb number t, and if itâ€™s on, you change the state of bulb t + 1 (modulo n); i.e., you turn it off if itâ€™s on, and on if itâ€™s off. If bulb t is off, you do nothing. Prove that if you continue around and around the ring in this manner, eventually all the bulbs will again be on.",
    "hint": "It doesn't matter what the rules are, only thing that matters is that all bulbs should not go off!",
    "solution": "Suppose every orientation of light bulbs & position of current pointer (t modulo n) forms a different state. Since all bulbs donâ€™t go off, we must repeat a state after finite number of steps. Also notice that every state has a unique pre-state. Suppose the two states are at time T1 & T2. Notice that at time 0 all bulbs are on. Thus moving backwards from both states, we arrive at T2-T1, where all bulbs are on again.",
  },
  {
    "puzzleId": 128,
    "title": "Chocolate Bar",
    "difficulty": "medium",
    "category": "discrete",
    "question": "There is a 6x8 rectangular chocolate bar made up of small 1x1 bits. We want to break it into the 48 bits.  We can break one piece of chocolate horizontally or vertically, but cannot break two pieces together!  What is the minimum number of breaks required?",
    "answer": 47,
    "solution": "For a chocolate of size mxn, we need mn - 1 steps. By breaking an existing piece horizontally or vertically, we merely increase the total number of pieces by one. Starting from 1 piece, we need mn - 1 steps to get to mn pieces.\nAnother way to reach the same conclusion is to focus on \"bottom left corners of squares\": Keep the chocolate rectangle in front of you and start drawing lines corresponding to cuts. Each cut \"exposes\" one new bottom left corner of some square. Initially, only one square's bottom left corner is exposed. In the end, all mn squares have their bottom left corners exposed.",
  },
  {
    "puzzleId": 129,
    "title": "Dead Men Walking",
    "difficulty": "medium",
    "category": "discrete",
    "source": "CSEblog",
    "question": "Assume 100 zombies are walking on a straight line, all moving with the same speed. Some are moving towards left, and some towards right. If a collision occurs between two zombies, they both reverse their direction. Initially all zombies are standing at 1 unit intervals. For every zombie, you can see whether it moves left or right, can you predict the number of collisions?",
    "hint": "On every collision, assume that the two zombies don't reverse direction but simply cross each other.",
    "solution": "Since we can assume that zombies can pass through each other, for a zombie moving right, count the number of zombies to its right moving left. Add this number for every right moving zombie. That is the number of collisions.",
  },
  {
    "puzzleId": 130,
    "title": "Square Infection",
    "difficulty": "medium",
    "category": "discrete",
    "source": "P. Winkler",
    "question": "An infection spreads among the squares of an nXn checkerboard in the following manner. If a square has two or more infected neighbors, it becomes infected itself. (Each square has 4 neighbors only!). Prove that you cannot infect the whole board if you begin with fewer than n infected squares.",
    "hint": "Invariance",
    "solution": "Perimeter of infected area can't increase. It stays constant or decreases. Initially maximum perimeter is 4*k if k blocks are infected. But to infect all blocks, the perimeter must increase to 4*n, k<n. This is not possible",
  },
  {
    "puzzleId": 201,
    "title": "Colored Runs of Cards",
    "difficulty": "hard",
    "category": "probability",
    "source": "Quantnet",
    "question": "There are 26 black(B) and 26 red(R) cards in a standard deck. A run is number of blocks of consecutive cards of the same color. For example, a sequence RRRRBBBRBRB of only 11 cards has 6 runs; namely, RRRR, BBB, R, B, R, B. Find the expected number of runs in a shuffled deck of cards.\n",
    "hint": "Linearity of expectation",
    "answer": 27,
    "solution": "We form the answer for general deck of 2n cards, with n red cards and n black cards. Consider any sequence X1,X2..X2n (of R & B). Now define  Y1 = 1;\nYi = 1 if Xi and X(i-1) are of different colors\nYi = 0 otherwise.\n\nWe want to find E[Y1 + ..+ Y2n], using linearity of expectation, = E(Y1) +...+E(Yn). Now note that, E[Y1] = 1 and E[Yi] = E[Yj] for the rest (by symmetry)\n\nAlso E[Yi] = E(Y2) = P(X2 is diff from X1) =  (number of ways first two are RB or BR) \/ (Total number of orientations) = 2 * [ (2n-2)choose(n-1) ] \/ [ 2n choose n ] = n\/(2n-1)\n\nAns = 1+(2n-1)*E[Y_i] = n+1 \n\nThis is 27 for deck of 52 cards.",
  },
  {
    "puzzleId": 202,
    "title": "Drunk Ant",
    "difficulty": "hard",
    "category": "probability",
    "source": "Quant Interview",
    "question": "An ant is standing on one corner of a cube & can only walk on the edges. The ant is drunk and from any corner, it moves randomly by choosing any edge! What is the expected number of edges the ant travels, to reach the opposite corner?",
    "hint": "Try to find the equivalent vertices with respect to distance yet to travel. This should give 4 equivalent merged vertices, with 1st being start & 4th being destination.",
    "solution": "Let the expected number of step required to go from (0,0,0) to (1,1,1) be E0.Also let expected number of step required to reach (1,1,1) from (0,0,1)(Or from (0,1,0) or from (1,0,0)) be E1. similarly expected number of step required to reach (1,1,1) from (0,1,1) (Or from (1,0,1) or from (1,1,0)) be E2.Then we can write:\nE0=1\/3(E1+E1+E1)+1\nE1= 1\/3*E0 + 2\/3*E2 + 1\nE2 = 2\/3*E1 + 1\nsolving this we find E0 as 10.",
  },
  {
    "puzzleId": 203,
    "title": "Distance from North Pole",
    "difficulty": "hard",
    "category": "probability",
    "source": "Quant Interview",
    "question": "What is the expected distance of any point on Earth and the north pole? Take Earth radius 1.\n\nClarification: Shortest distance cuts through the sphere, instead of lying on surface.\n\nFurther thinking: Is this question same as choosing two random points on unit sphere and asking their expected distance?\n",
    "hint": "Imagine a ring of some thickness, whose distance from N is constant from all points on that ring. Get the average of all such rings.",
    "answer": "4\/3",
    "solution": " 2*sin(x\/2)is the distance of north pole from a point on the ring at angle x from the z axis. So, integrate from 0 to pi, (2*pi*sin(x)*2*sin(x\/2) dx) and divide by the total area which is 4*pi.\nAnswer:4\/3\n\nAnother approach is to imagine a horizontal ring of dy thickness at distance y from N (north pole). \n\nArea of ring = 2*pi*dy\nProbability of choosing point on this ring = dy\/2\nDistance of N & a point on ring = sqrt(2y)\n\nExp length = integral (y=0 to 2) of sqrt(2y) dy\/2 = 4\/3\n\nAnd yes, taking two random points on surface of sphere and asking their expected distance is same as this very question.",
    "comment": "http:\/\/mathforum.org\/kb\/message.jspa?messageID=70921",
  },
  {
    "puzzleId": 204,
    "title": "Expected Breakup Length",
    "difficulty": "hard",
    "category": "probability",
    "source": "Quant Interview",
    "question": "A stick is broken into 3 pieces, by randomly choosing two points along its unit length, and cutting it. What is the expected length of the middle part?",
    "hint": "Selecting the random point from a small 'dt' length element is dt , as length of stick=1. Now use the definition of Expectation.",
    "answer": "1\/3",
    "solution": "Double integral of |x-y|dxdy gives 1\/3 as answer. This is same as one would expect from a broken pencil.\n\nPalak's Solution:\nIntegrate from 0 to 1, x*x\/2 + (1-x)*(1-x)\/2 = 1\/3\nlogic: if one cut is at distance x from left, with probability x, the second cut comes before it, and expected length of middle piece is x\/2.. Similarly with prob (1-x) it, middle piece is expected to have length (1-x)\/2. Thus adding and integrating from 0 to 1.",
  },
  {
    "puzzleId": 205,
    "title": "Messing with Envelops",
    "difficulty": "hard",
    "category": "probability",
    "source": "CSEblog",
    "question": "There are n letters and n envelopes. Your servant puts the letters randomly in the envelopes so that each letter is in one envelope and all envelopes have exactly one letter. (Effectively a random permutation of n numbers chosen uniformly). Calculate the expected number of envelopes with correct letter inside them.",
    "hint": "Linearity of expectation",
    "solution": "Let I_i be a indicator random variable which takes\n1) value 1 if ith letter ends up in ith envelope.\n2) value 0, otherwise\nlet I be r.v which indicates the number of letters which ended up in their respective envelopes.\nNow, I= I_1 +I_2+....+I_n\nE[I_i] = 1\/n. for all i\nUsing Linearity of Expectations E[I]= 1\/n + 1\/n +...+1\/n = 1.",
  },
  {
    "puzzleId": 206,
    "title": "Collecting Lucky coupons",
    "difficulty": "hard",
    "category": "probability",
    "source": "Quant Interview",
    "question": "A soda company is holding a contest where everyone who collects one each of N different coupons wins some prize. You get a coupon with each purchase of a soda, and each coupon is equally likely. Whatâ€™s the expected number of soda bottles you have to buy in order to collect all the coupons?",
    "hint": "Linearity of expectation",
    "solution": "Divide the whole process in to stages. Each stage ends with collecting a coupon which is new ( different from the coupons we already have )\n\nLet C_i be the random variable which denotes the number of coupons we buy in the stage i.\n\nLet C be the random variable which denotes the number of coupons we buy in order to get all n coupons\nNow,\nC= C_1 + C_2 + ... + C_n\nNote C_1 = 1;\nIn general, while we are during stage i , we already have with us (i-1) different coupons. So, the probability of getting a new coupon is p_i = n-(i-1)\/n. Also note that each C_i is a Geometrically distributed random variable with success probability equal to p_i. So, E(C_i) = 1\/p_i = n\/(n-i+1).\nBy using Linearity of Expectations,\nE(C) = E(C_1) +E(C_2) + ...+E(C_n)\n= n(1\/n + 1\/(n-1)+ ... +1)\n~ nlogn.",
  },
  {
    "puzzleId": 207,
    "title": "The Noodles",
    "difficulty": "hard",
    "category": "probability",
    "question": "You have 100 noodles in your soup bowl. You are told to take two ends of some noodles (each end on any noodle has the same probability of being chosen) in your bowl and connect them. You continue until there are no free ends. What is the expected number of loops? What is the probability of making one large loop which includes every noodle? ",
    "hint": "Expected number of noodles come from linearity of expectation. Probability comes from multiplying independent probabilities.",
    "solution": "First calculate expected number of loops:\nDenote X1 = identity variable, which takes value 1 every time a (long) noodle becomes a loop by connecting to its end, (if its own end is connected to some other noodle, then that other noodle's end will be considered). Thus, number of loops = X1 +...+ X100, thus, expected number of loops = E(X1) + ... + E(X100). This will give answer = 1\/(2N-1) + 1\/(2N-3) + ... + 1\/3 + 1\nwhere N = 100. This formula can also be proved using induction.\n\nCalculating Probability of single large loop:\nIf you followed last result, this one is simple, this time all the identitiy variables are zero except last one. Thus probability is [1 - 1\/(2N-1)]*[ 1 - 1\/(2N-3)]* ... *[1-1\/3]\n= Product ( i = 2 to N) [ (2i-2) \/ (2i-1)]",
  },
  {
    "puzzleId": 208,
    "title": "Distinct Number Draws",
    "difficulty": "hard",
    "category": "probability",
    "source": "CSEblog",
    "question": "Given the set of numbers from 1 to n: { 1, 2, 3 .. n } We draw n numbers randomly (with uniform distribution) from this set (with replacement). What is the expected number of distinct values that we would draw? \n",
    "hint": "Linearity of expectation",
    "answer": "E(n) = n[1-(1-1\/n)^n]\n",
    "solution": "Notice that number of distinct points in the produced set is same as number of distinct points selected from the given set {1..n} . For that we denote indicator function Si, that is, Si = 1 if the interger i is taken into produced set. \n\nLet S denote the number of distinct points selected, S = S1+..+Sn\nE(S) = E(S1) +...+ E(Sn)\nand E(Si) = 1*P(Si) = 1 - (Probability that 'i' is not chosen in any draw)\n\n= 1 - ( Prob that is i is not chosen in one 1st draw)^n = 1 - (  1 - 1\/n )^n\n\nThus E(S) = n * ( 1 - ( (n-1) \/ n)^n )",
    "comment": "<-- Sterling number of second type",
  },
  {
    "puzzleId": 209,
    "title": "Greed for an ACE",
    "difficulty": "hard",
    "category": "probability",
    "question": "What is the expected number of cards that need to be turned over in a regular 52-card deck in order to see the first ace?",
    "hint": "Hint: the locations of the four aces in the deck divide it into the five groups X1, ...,X5.",
    "answer": "53\/5",
    "solution": "Define X1,X2â€¦X48, such that Xi = 1 if ith card turns over before 4 aces, 0 otherwise. Thus, total number of cards turned to see first ace = 1 + sum (Xi)\nusing linearity of expectation, E(X) = 1 + sum ( E(Xi))\nNow consider the ith card and the four aces, all the orders are equally likely: X,A,A,A,A Or A,X,A,A,A, or 3 others. They are equally likely when we have no knowledge about position of these Aces with respect of the deck. Hence we have 5 equally likely slots for ith card: 1 A 2 A 3 A 4 A 5. We are interested in 1st slot.\nHence E(Xi) = 1\/5 for all i = 1 to 48\nThus E(X) = 1 + 48\/5 = 53\/5 = 10.6\n \nThis can be done by recursive equation  f(n) = (4\/n)*1 + ((n-4)\/n)*(1+f(n-1), where f(n)=expected cards to flip in a deck of n cards, but I definitely can't solve this without a computer.\n\nA shorter explanation is to consider the 52 cards uniformly distributed over (0,1), so on average they're at k\/53 for k=1,2,3,â€¦,52. The four aces are on average at 1\/5, 2\/5, 3\/5, 4\/5. So 0.2=k\/53 implies k=10.6, done!",
  },
  {
    "puzzleId": 210,
    "title": "Random point on disk",
    "difficulty": "hard",
    "category": "probability",
    "source": "Quant Interview",
    "question": "$x$ & $y$ are two random points selected uniformly between $0$ & $1$. Using them, create a point uniformly random in circle of radius $1$. (uniform means that the probability density is constant)",
    "hint": "Let  $r=\\sqrt{(x^2+y^2)}$; the point $(x/r, y/r)$ is not uniformly distributed on the disk.",
    "answer": " $\\theta = 2 \\pi x$ and $r = \\sqrt{y}$, then take the point as $(r \\cos(\\theta),r \\sin(\\theta))$",
    "solution": "
      The idea is that the probability of a point to be between $r$ and $(r+ d r)$ is $2 \\pi \\cdot r \\cdot d r$. Hence to choose a radius we need to generate a number from random number generator which follows the probability distribution $2 \\cdot r$.\n\n
      To generate a random number which follows above probability from a uniform distribution we simply take the square root of the number generated by uniform distribution.
      Hence, $\\theta = 2 \\pi x$ and $r = \\sqrt{y}$, then take the point as $(r \\cos(\\theta),r \\sin(\\theta))$
      ",
  },
  {
    "puzzleId": 211,
    "title": "Enclosing The Center",
    "difficulty": "hard",
    "category": "probability",
    "source": "a nice senior",
    "hint": "If the polygon contains the center, the longest distance between any two points on the circumference will be less than $\\pi$.",
    "answer": "$1- nP$ where $P = 1/{2^{n-1}}$",
    "question": "N points are chosen at random on the circumference of a circle. A convex $n$-gon (n sided polygon) is drawn by joining these n points. What is the probability that the center of circle lies inside the region of $n$-gon?",
    "solution": "
      In order for a polygon inscribed in a circle to exclude the center of that circle, there must be a straight line that can be drawn through the center of the circle such that all vertices (points) of the polygon are on one side of that line. In terms of the circle, this line is a diameter, and all the points are within a semi-circle.
      Thus, the polygon excludes the center __if and only if__ all points are within a semi-circle. This is easier to check.\n\n

      Suppose we consider the first point (at random), imagine a semi-circle arc that starts from this point, towards clockwise direction around the circle. We want to know if the next $n-1$ points lie on this semi-circle.
      Since the probability of each next point is uniformly random along the entire circumference, the probability is $1/2$ that each point lies within this imaginary semi-circle. Thus, the probability that all those $n-1$ points lie on this semi-circle is $P = \\dfrac{1}{2} \\cdot \\dfrac{1}{2}    \\cdot ... \\cdot \\dfrac{1}{2} =\\dfrac1{2^{n-1}}$.\n\n

      But, it is not necessary that all the points lie within the semi-circle started from the first point. It is true that if the polygon excludes the center, then certainly all points are within some semi-circle, but which one? Let us define the semi-circle as an arc that starts from some point of the polygon towards clockwise direction. This definition ensures that only one such semi-circle can exist.
      Suppose $X_i = 1$ if the semi-circle starting from point $i$ contains all the other points, and $X_i = 0$ otherwise.
      Then, $P(X_1 = 1) = P$.\n\n

      Note that the probability of this event is identical for each $i$, because when we observe the semi-circle strating from the $i$th point, all the other $n-1$ points are just random points on the circumference, hence $P(X_1 = 1) = P(X_i = 1) = P(X_n = 1) = P$.
      \n\n

      We want to know the probability that any one of those start-points satisfy the condition, i.e. $P(X_1 = 1 \\cup X_2 = 1 \\cup ... \\cup X_n = 1)$.
      \n\n
      Note that if any one $X_k$ is $1$, then all other $X_i$'s are $0$. This is because of the way we defined our semi-circle to start from one of the points. If we start the semi-circle for any other point $i \\ne k$, then the $k^{th}$ point lies outside the semi-circle, i.e, and $X_{i\\ne k} = 0$.
      Hence, by definition, $(X_i = 1)$'s are disjoint events, and hence the probability of union is sum of individual probabilities.
      \n\n
      Thus, probability of center-exclusion = $P(X_1 = 1 \\cup X_2 = 1 \\cup ... \\cup X_n = 1) = P(X_1 = 1) + ... + P(X_n = 1) = n * P$
      \n\n
      Hence the probability that the polygon includes the center of the circle is $1 - nP$ where $P = \\dfrac{1}{2^{n-1}}$
      \n\n
      Final answer $1-\\dfrac{n}{2^{n-1}}$
      ",
  },
  {
    "puzzleId": 213,
    "title": "Sum To One",
    "difficulty": "hard",
    "category": "probability",
    "question": "On pressing a button, a random number is generated uniformly between 0 & 1. You keep on generating these numbers until their sum exceeds 1. What is the probability that you need to press the button more than n times? What is the expected number of times you need to press the button?",
    "hint": "Probability by conditioning",
    "answer": "Probability: 1\/n! ; Expected times:  e",
    "solution": "Probability of more than n throws is equivalent to saying X1+..+Xn <=1, this is the volume of n dimensional symplex from origin, its volume is 1\/n! and can be proved by induction. This can be used to calculate expected number of button presses, sum( 1\/n! * n ) = sum( 1\/(n-1)!) = e^1\n\nOtherwise, set up a (lag)differential equation for f(x), the expected number of draws needed for the sum to exceed x. For x=0,f(x)=1. For x>0, suppose a draw gave number t, then f(x)= 1 + integral (t=0 to x)f(x-t)dt, which is same as f(x) = 1 + integral(t=0 to x) f(t)dt, differentiate wrt x, we get f'(x) = 0 + f'(x). This has the solution f(x)=e^x and x=1 gives e.\nTo take derivative, we used  leibniz integral rule:\nd\/dx  ( integral( a(x) to b(x) ) f(t) dt = f(b(x))*b'(x) - f(a(x))*a'(x) = f(x)*1 - f(x)*0 = f(x)\n\n",
  },
  {
    "puzzleId": 215,
    "title": "Random Walk",
    "difficulty": "hard",
    "category": "probability",
    "source": "Top Quant Interview",
    "question": "You are initially located at origin in the x-axis. You start a random walk with equal probability of moving left or right one step at a time. What is the probability that you will reach point a before reaching point -b? What is the expected number of steps to reach either a or -b? (a,b are natural numbers)",
    "answer": "b\/(a+b) and ab",
    "solution": "If you try markov chain approach, this question will never end! For this problem, we will use Martingales.\nLet N = number of steps to reach any of a or -b. Let SN = X1+...+XN.  Suppose Pa = probability of touching a before -b, and Pb = the opposite. We use the fact that both SN and (SN^2-N) are martingales, thus:\n0 = E(SN) = a*Pa + (-b)*Pb\nThis gives Pa = b\/(a+b)\nSimilarly, 0 = E(SN^2-N) = Pa*a^2 + Pb*b^2 - E(N)\nThis gives E(N) = ab",
  },
  {
    "puzzleId": 216,
    "title": "Left Some Candies",
    "difficulty": "hard",
    "category": "probability",
    "question": "You are taking out candies one by one from a jar that has 10 red candies, 20 blue candies, and 30 green candies in it. What is the probability that there are at least 1 blue candy and 1 green candy left in the jar when you have taken out all the red candies? (Candies of same color are indistinguishable!)",
    "hint": "Combinatorial problem. Consider a sequence of 60 candies, in which red candies finish before blue and green.",
    "answer": "7\/12",
    "solution": "It can be done using combinatorics as well as conditional probability. I don't have time today, but please remind me to put proper solution by commenting down below or by sending me a message. Thank you.",
  },
  {
    "puzzleId": 217,
    "title": "Catching the Submarine",
    "difficulty": "hard",
    "category": "strategy",
    "source": "Inspired from <a href=\"http:\/\/research.microsoft.com\/en-us\/um\/people\/leino\/puzzles.html\">Rustan Leino<\/a>'s puzzle\n\n",
    "question": "An aircraft hovers above sea, trying to catch a submarine moving with a constant velocity under the sea. The submarine is completely invisible, but using a human radar only once, the aircraft knows the exact location of submarine under the sea. The direction of submarine is unknown, but constant. The aircraft can move at twice the speed of submarine. As soon as the aircraft is just vertically above the submarine, Aircrafet can magnetically pick it up. How does the aircraft catch the submarine? How much time ill it take?\n\nPS: This scene is from X-men: First Class. Good x-men are in the aircraft called blackbird, human radar is Banshee, Magnet is Magneto. Bad x-men are in submarine, with Sebastian Shaw is about to cause a war, better catch him soon!",
    "hint": "The locus of submarine from its spotted location is a circle of radius (speed of sub)*(time passed). We only need to move around this locus for some time.",
    "solution": "Let speed of plane be 2s, submarine: s, original distance d\nLocus of submarine after time t is circle of radius s*t centered at original location of submarine. Thus the plane moves 2\/3 distance towards submarine, and then spirals out by increasing radius with speed 's'. The submarine is caught after one round.\n\nFor General case, with speeds p > s, see Palak's Answer:\n\nLet Op, Os be the initial positions of the plane and the submarine, resp. For time t0 = d\/(s+p), the plane will move towards Os in the OpOs direction. After that, with Os as the origin, the plane will maintain a constant velocity of s along the radial direction. Thus, at an angle theta from OpOs, tangential displacement in time dt is sqrt(p^2-s^2)*dt = r*d(theta) = s*t*d(theta) => dt\/t = s\/sqrt(p^2-s^2)*d(theta). Integrating t from t0 to tf, and theta from 0 to 2*pi, we get tf = t0*exp[2*pi*s\/sqrt(p^2-s^2)] = [d\/(s+p)]*exp[2*pi*s\/sqrt(p^2-s^2)].\nNote that the plane can be vertically above the submarine any time between t0 and tf, depending on the direction theta of the velocity of the submarine wrt OpOs, thus making tf the worst case time.",
  },
  {
    "puzzleId": 218,
    "title": "Catching the Spy",
    "difficulty": "hard",
    "category": "strategy",
    "source": "Written Test; leino",
    "question": "A spy is located on a one-dimensional line.  At time 0, the spy is at location A.  With each time interval, the spy moves B units to the right (if B is negative, the spy is moving left).  A and B are fixed integers, but they are unknown to you.  You are to catch the spy.  The means by which you can attempt to do that is:  at each time interval (starting at time 0), you can choose a location on the line and ask whether or not the spy is currently at that location.  That is, you will ask a question like \"Is the spy currently at location 27?\" and you will get a yes\/no answer.  Devise an algorithm that will eventually find the spy",
    "solutionImage": "",
  },
  {
    "puzzleId": 220,
    "title": "Pure Gold",
    "difficulty": "hard",
    "category": "strategy",
    "source": "CSEblog",
    "question": "You are given N coins which look identical (assume N = 2^k). But actually some of them are pure gold coins (hence are heavy) and the rest are aluminum coins with thin gold plating (light). You are given one beam balance with two pans. What is the number of weighing required to separate the gold from fake coins? (all gold coins have equal weights & all fake coins too have the same weight)",
    "hint": "Divide and conquer",
    "solution": "It takes about (log N)^2 operations:\nDivide the set of 2^k with d heavy coins into two sets, each with 2^(k-1) coins with floor(d\/2) heavy coins. If we can do this, we can determine the number of heavy coins in O(log n)^2 operations.\n\nDividing the set can be done in O(log n). (*Later)\n\nSo, T(n) = T(n\/2) + O(log n)\nT(n) = O(log^2 n).\nTo be exact, this is k*(k+1)\/2 . where k = log N\n\n(*Sub-Algorithm)\nDivide the set into two sets A and B of equal number of coins. Let A greater than B and to make both side of equal weight, I need to shift few coins from A to B and equal number of coins from B to A. So divide A into A1 and A2, and B into B1 and B2. Move A2 from A into B and B1 from B into A now if (A1,B1) is greater than (B2,A2) then I have not moved enough coins from A into B so as to make B part heavy enough hence you divide A1 into A11,A12 and move A12 in B side similarly u move B21 into A side on the other hand if (A1,B1) is less than (A2,B2) I have more than enough coins from A into B hence move B12 back into B and A21 back into A now measure again. Do it so on...\n\nNote that we are doing this in O(log n) as each time the number of coins we are moving is reduced by half. So, In O(log n), we are done.\n\nTo prove that solution always exists, we do it by induction:\ndifference in the number of heavy coin after kth iteration cannot be more than 2^(n-1-k)\nSo, after n-1th iteration, it can be more that 1 coin. Hence, done. :)",
  },
  {
    "puzzleId": 221,
    "title": "Game of Divisors",
    "difficulty": "deadly",
    "category": "strategy",
    "source": "Krishnamurthy Iyer",
    "question": "Two immensely intelligent players, A & B, engage in a game, the rules of which are as follows. For some natural number N, the board consists of numbers from 1 to N. Each player takes turns to strike off a (new) number from the board. But, to make sure N doesn't affect who wins, there is an added rule. Once you strike of a number, you also have to strike off all its divisors in that same chance, irrespective of whether any of those divisors were already marked. The player to strike off the last number on the board wins. Can A construct a winning strategy?",
  },
  {
    "puzzleId": 222,
    "title": "Counter Strike",
    "difficulty": "hard",
    "category": "strategy",
    "source": "Toad Puzzles",
    "question": "N undercover agents have been found in don's lair. Less than half of them are terrorists and the rest are anti-terrorists. The nature of their job is so secret that there is no proof what so ever to testify who is who. Although each of them knows who was actual terrorist and who was anti because they worked in teams. A query consists of asking person i if person j is Anti. Anti will always speak truth but a terrorist may lie to confuse you. The goal is to find out one anti in fewest queries.",
    "hint": "It  can be done in less than N queries. End of a chain is testified by one anti somewhere in the middle.",
    "solution": "Please note that this question cannot be solved with any algorithm if terrorists are more than or equal to anti, because terrorists can plan to always lie.\n\nSolution by jadu, on CSE Blog, taking only N-1 queries\nWe will try to find a chain of persons (i1,i2,i3....im) such that each ij is queried about i(j+1) and answer is correct. Note that if such chain contains an anti then last person in the chain would be anti. So query person 1 about 2. If answer is yes query person 2 about 3. continue till answer is correct. suppose at some point person i when queried about person j says wrong, in that case remove person i and j from the chain, and continue query process by querying predecessor of i about successor of j. Here note that when we remove person i and j from the chain at-least one of them must be faulty. here for each person except the first one, we are querying once. Hence N-1 comparison in worst case. Think about the best case using this algorithm.",
  },
  {
    "puzzleId": 223,
    "title": "Sharing a Secret",
    "difficulty": "hard",
    "category": "discrete",
    "question": "A group of 5 people want to keep their secret document in a safe. They want to make sure that in future, only a majority (>=3) can open the safe. So they want to put some locks on the safe, each of the locks have to be opened to access the safe. Each lock can have multiple keys; but each key only opens one lock. How many locks are required at the minimum? How many keys will each member carry?",
    "hint": "For each group of 2 ppl, there must be a lock which none of them have a key to.",
    "answer": "10 locks, 6 Keys.",
    "solution": "For each group of 2 ppl, there must be a lock which none of them have a key to. But the key of such a lock will be given to the remaining 3 ppl of group. Thus, we must have atleast 5C2 = 10 Locks. Each lock has 3 keys, which is given to unique 3-member subgroup. So each member should have 10*3\/5 = 6 keys.",
    "comment": "This was Screwy Pirates 2",
  },
  {
    "puzzleId": 224,
    "title": "Weights Reckoning",
    "difficulty": "hard",
    "category": "discrete",
    "source": "leino",
    "question": "We have a beam balance (with two pans to compare weights) and a positive integer N. How do we select fewest number of pebbles to weigh all possible integers from 1 to N",
    "solution": " We will require the set (1,3,9.....3^x )\nwhere x is lowest integer with 3^x > N. This is true because each number now has exactly one ternary representation. Any 2*3^i can always be represented as 3^(i+1) - 3^i. So, there is a unique way of representing a number in the form of sigma s_i*3^i where s_i belongs to {0, 1, -1}. So, this is optimal\nVerify that this can be used to weigh all integers from 1 to N\nNumber of pebbles = log_{base:3} (2N+1)\n\nSolution by Palak Bhushan\n\nIf each weight w_i has k copies, then 2k+1 combinations can be weighed using them (from -k*w_i to 0 to k*w_i). So, if we choose w_i = (2k+1)^{i-1}, i=1...p, then everything till k*((2k+1)^p - 1)\/((2k+1)-1) = ((2k+1)^p-1)\/2 can be weighted, thus requiring p=log_{2k+1} (2N+1) number of distinct weights.",
  },
  {
    "puzzleId": 225,
    "title": "Gas Stations on Circular Trek",
    "difficulty": "hard",
    "category": "discrete",
    "source": "P. Winkler",
    "question": "Several gas stations on a circular trek have between them just enough gas for one car to make a complete round trip. Prove that if you start at the right station with an empty tank you shall be able to make it all the way around.",
    "hint": "Induction",
    "solution": "Take N=2 gas stations. Assume their capacities are x1 and x2 (in terms of distance). Now, x1+x2 = 1. Assume y1 and y2 be clockwise distances from 1 to 2 and 2 to 1 (clockwise), y1+y2 = 1. Hence we cant have x1<y1 and x2<y2 both. Thus, let x1 >= y1. In this case we start with station 1 and complete the journey. Assume the path is possible for N=K stations, we want to prove for N = K+1 stations, using same argument as above, xi>=yi for some i, and hence reaching xi with zero fuel ensures reaching x(i+1). Thus we merge xi and x(i+1), and the problem is reduced to N=K stations, which we assumed!\n\nAnother method is to imagine having a big tank with enough gas for a round trip and enough room for going through the motions of emptying every gas station on your way. Start at any station and mind to record the amount of gasoline on reaching gas stations on your way around. At the end of the trip, when you pull into the station of departure with the original amount of gas, check your list. The station marked with the least number is the one where you want to start on an empty tank.\n",
  },
  {
    "puzzleId": 226,
    "title": "Bricking Box",
    "difficulty": "hard",
    "category": "discrete",
    "source": "Xinfeng Zhou",
    "question": "Can you pack 53 bricks of dimensions 1x1x4 into a 6x6x6 box? The faces of the bricks are parallel to the faces of the box \n",
    "hint": "See its cousin called Domino Covering in which two opposite corners of a checkerboard are removed.",
    "answer": "No!",
    "solution": "Divide the volume of 6x6x6 box into 2x2x2 mini cubes. Imagine each of these mini cubes is either fully red or fully blue such that it forms a 3D checkerboard pattern on the box. This will restrict 14-13 restriction on cube colors, say 14 blue and 13 red. Now, putting bricks into box, parallel to faces, each brick will be half blue and half red, so 52 bricks fill all the red cubes and there is no way to place a 53rd brick. ",
  },
  {
    "puzzleId": 1002,
    "title": "To Begin or Not to begin?",
    "difficulty": "medium",
    "category": "probability",
    "source": "40 Puzzles",
    "question": "A & B are alternately picking balls from a bag without replacement. The bag has k black balls and 1 red ball. Winner is the one who picks the red ball. Who is more likely to win, the on who starts first, or second?",
    "hint": "Look at k=0,1,2,3... Write down probability of starter being a winner.",
    "answer": "Begin!",
    "solution": " A & B keep on picking the balls without looking at their color. After all balls have been picked, the one who starts the game will have more balls (if k=even, total balls=odd) and hence higher probability of winning.\n\n\nSolution by Palak Bhushan:\n(prob of A winning in first chance = 1\/(k+1)) + \n(prob of A winning in 3rd chance = (1-(1\/k+1))*(1-1\/k)*1\/(k-1) = 1\/(k+1)) + ... + \n(prob of A winning in 2r+1-th chance = 1\/(k+1)) + ... .\nWhen k=2n+1, there are n+1 such terms, giving the prob as (n+1)*1\/(k+1)=1\/2. \nWhen k=2n, there are n+1 such terms, giving prob as (n+1)*1\/(k+1)=(n+1)\/(2n+1)>1\/2.\nHence, doesnt matter who starts first when k is odd. \nThe first player has higher chance of winning when k is even",
    "comment": "ques 1, 40 prob puzzles",
  },
  {
    "puzzleId": 1003,
    "title": "Crazy Postman",
    "difficulty": "medium",
    "category": "probability",
    "source": "P. Winkler",
    "question": "A postman brought N letters to a house with two letter-boxes. Since the two boxes were empty, he puts 1 mail in each of the two mail boxes. Then he chooses one of boxes with probability proportional to number of letters present in that box, and puts the 3rd letter in it. He does this for all subsequent letters. What is the expected number of letters in the box with lower letters?",
    "hint": "This can be made equivalent to randomly splitting a deck of n cards into two parts. (n>2)\n",
    "solution": "Suppose I have a stack of 2 black cards and one red card. Initially I put red between 2 black cards. Now I add black cards randomly between any two cards (so, initially it is either above or below red). Note that the probability that I add the card above the red card, when x-1 is the number of cards above red and y-1 is the number of cards below red is x\/(x+y). Let the problem be: if red card is dividing the black cards into two sets, what is the expected number of black cards in the smaller section. So, we see that the two problems are equivalent.\n\nNow this way, we are getting all possible combinations in which one red and n black cards can be mixed, we see that the probability that the red card is at height h is independent of h. So, the probability that the smallest box contains n\/2 letter or 1 letter (or any number of letters between 1 and n\/2) are all same. So, expected number of letters in the smaller box is asymptotically n\/4",
  },
  {
    "puzzleId": 1004,
    "title": "Single Bid",
    "difficulty": "medium",
    "category": "probability",
    "source": "P. Winkler",
    "question": "You have an opportunity to make one bid on an object, whose value to its owner is, as far as you know, uniformly random integer between \\$0 and \\$100. What you do know is that you are so much better at operating the widget than he is, that its value to you is 80% greater than its value to him. If you offer more than the widget is worth to the owner, he will sell it. But you get only one shot. How much should you bid? For example, if its actual value is \\$10, you bid & win at \\$11, and sell it for \\$18, making profit. But if you bid more than \\$18, you make lose! But since you don't know how much its actual price is, how do you bid in order to make some profit?",
    "hint": "Consider the case he already won the bid at \\$x. What happens next?",
    "solution":
      "CSEBLOG: We should bet only 0! (dont bet!) Suppose I bet \\$x and get the widget. So, the value of it for the owner would be \\$y, uniformly distributed between 0 and x. So, its value for me is \\$1.8y. Expected value for me is 1.8* Expected value of y = 1.8*x\/2= 0.9x\n\n
      So, if I get, expected value of the widget for me is 0.9x \\$ paying x \\$.\n\nIf x is less, i.e I am not getting it, I did not gain\/lose anything.\n\nSo, overall I am losing. So, I should not bid.",
  },
  {
    "puzzleId": 1005,
    "title": "Waiting for a Truck",
    "difficulty": "medium",
    "category": "probability",
    "question": "On a given highway, trucks arrive at the station according to a Poisson process with Lambda = 0.1\/minute. This means that after a truck is just passed, the time for the next truck to arrive is an exponential random number with average arrival time of 10 minutes. Your car just broke on this highway, and you are waiting for the next truck for hitchhiking, what is your expected waiting time? On average how many minutes ago the last truck left?",
    "hint": "It's not 5 minutes. Exponential distribution has memoryless property.",
    "solution": "Using memoryless property of exponential distribution, the expected waiting time is 10 minutes. This also holds backwards, hence the expected time last truck passed is also 10 minutes. But this does not violate the total inter-arrival time of 10 minutes, because if your car breaks at a random time, you are more likely to be in long interval than a short one. I don't have time today, remind me to post a more mathematical explanation.\n",
  },
  {
    "puzzleId": 1006,
    "title": "The Blind Archer",
    "difficulty": "medium",
    "category": "probability",
    "question": "A very sharp, consistently skillful blind archer aimed for the center of a circular board and shot 2 arrows. He is expected to hit the aim, but doesn't hit it for sure. The archer is told that his first shot is better than second. He tried one more shot. What is the probability that this 3rd shot is the best shot among 3?\n(ie, Probability that 3rd arrow lands closer to center than his first two shots?)",
    "hint": "Enumeration; Symmetry between random variables.",
    "answer": "1\/3",
    "solution": "Suppose x1, x2 and x3 are the distances of the arrows from center. As the archer is consistent, we can use symmetry, i.e., there are six equally likely cases: x1<x2<x3, (or 5 others, which are its permutations). Since archer is told that x1<x2, we are left with following equally likely cases:\nx1<x2<x3 , x2<x1<x3 , x1<x3<x2\nAmong these three, one is favorable. Hence The probability of last shot being best is 1\/3.\n\nNotice that if there were (N-1) arrows, with first being better than rest, and then he shoots Nth arrow. The probability that Nth shot is best is 1\/N.",
  },
  {
    "puzzleId": 1008,
    "title": "Red Dead Redemption",
    "difficulty": "deadly",
    "category": "probability",
    "question": "Warning: I could not solve it.\nIn a room stand n armed and angry people. At each chime of a clock, everyone simultaneously spins around and shoots a random other person. The persons shot fall dead and the survivors spin and shoot again at the next chime. Eventually, either everyone is dead or there is a single survivor.\n\nAs n grows, what is the limiting probabality that there will be a survivor. :)",
  },
  {
    "puzzleId": 1009,
    "title": "Clan Size",
    "difficulty": "deadly",
    "category": "probability",
    "question": "The people in a country are partitioned into clans.  In order to estimate the average size of a clan, a survey is conducted where 1000 randomly selected people are asked to state the size of the clan to which they belong.  How does one compute an estimate average clan size from the data collected?",
    "solution": "This is more of a puzzle-to-ponder rather than a puzzle to learn. In my opinion, best estimator for average is sum( n )\/ sum( #n\/n), where #n is the number of people with clan size as 'n', and this sum is over all the values of 'n' we receive.",
  },
  {
    "puzzleId": 1011,
    "title": "Min & Max",
    "difficulty": "medium",
    "category": "strategy",
    "source": "H. Cormen",
    "question": "Given an array of n numbers. Finding minimum takes n-1 comparisons. Finding maximum takes n-1 comparisons. If you had to simultaneously find both minimum and maximum, can you do it in less than 2n-2 comparisons?",
    "hint": "the answer is ~1.5n calculations. It uses a trick. When you compare two elements, one comparison is sufficient to find both min & max of those two elements.",
    "solution": "Solution requires approximately 1.5n comparisons instead of 2n comparisons.\n\nBreak n numbers into pairs of 2.\nSo, that is n\/2 pairs. Find maximum and minimum in each pair. Cost = n\/2.\nNow given n\/2 maximums, find the maximum. Cost = n\/2. Given n\/2 minimums, find the minimum. Cost = n\/2\n\nSo, overall cost 3n\/2 comparisons.",
  },
  {
    "puzzleId": 1012,
    "title": "Prisoner's Hat (Infinity)",
    "difficulty": "deadly",
    "category": "strategy",
    "question": "A countably infinite number of prisoners, each with an unknown and randomly assigned red or blue hat line up single file line. Each prisoner faces away from the beginning of the line, and each prisoner can see all the hats in front of him, and none of the hats behind. Starting from the beginning of the line, each prisoner must correctly identify the color of his hat or he is killed on the spot. As before, the prisoners have a chance to meet beforehand, but unlike before, once in line, no prisoner can hear what the other prisoners say. The question is, is there a way to ensure that only finitely many prisoners are killed?",
    "solution": "It uses Axiom of choice in a special way. Before night of execution, prisoners will create some equivalent classes among the set of all possible infinitely long binary strings. Let us say two infinite strings s1 and s2 are related, if they differ at finitely many places, and are same otherwise. This creates the equivalence relation. Thus they create all equivalence class. From each class, we mark one representative string. \n\nNow, a person pi looks ahead, and instantly knows his equivalent class & recalls the representative string S. When his turn comes, he speaks the ith digit of S as his guess. Since S and actual (current) string only differ upto a finite (say N) number of position. Thus only atmost N people may die using this technique.\n\nNow, first person will count number of places S differs from current string, and answer it in modulo 2. Based on answer of first person, second person can deduce his hat color. now the third person can deduce his color and so on. Except possibly for the first person, everyone will guess correctly.",
  },
  {
    "puzzleId": 1013,
    "title": "Crazy Clock",
    "difficulty": "medium",
    "category": "discrete",
    "source": "Self",
    "question": "There is a crazy clock in Alice's Dream, it has two hands initially pointing at 12. The minute hand moves clockwise, making 5 rounds (with varying speeds) and comes back to 12. In the same time, the hour hand goes anti-clock wise, finishing 4 rounds and returns to 12. How many times did the two cross each other ? (Cross means meet & pass through, hence ignore start & end)",
    "answer": 8,
    "solution": "In the reference frame of minute hand, hour hand moves exactly (5+4) = 9 rounds anti-clockwise with varying speeds (by adding total angular distance covered). 'Cross' occurs just in between two consecutive rounds. Thus hour hand crosses minute hand exactly 9-1=8 times. Same answer in ref. plane of hour-hand.",
  },
  {
    "puzzleId": 1014,
    "title": "Candy Game",
    "difficulty": "medium",
    "category": "discrete",
    "source": "puzzletweeter",
    "question": "A group of students are sitting in a circle with the teacher in the center. They all have an even number of candies (not necessarily equal). When the teacher blows a whistle, each student passes half his candies to the student on his left. Then the students who have an odd number of candies obtain an extra candy from the teacher. Show that after a finite number of whistles, all students have the same number of candies.",
    "hint": "Look at minimum & maximum count of candies.",
    "solution": "1. The maximum number of candies held by a single student can never increase.\n2. The minimum number of candies held by a single student always strictly increases, unless the student to his right also has the minimum number of candies, in which case the length of the longest consecutive segment of students who have minimum number of candies strictly decreases. Thus eventually the minimum has to strictly increase.\n3. Since the minimum has to strictly increase in a finite number of steps and cannot go beyond the maximum, all the numbers must eventually be equal in atmost n(max-min) steps.",
  },
  {
    "puzzleId": 1015,
    "title": "Overlapping Coins",
    "difficulty": "medium",
    "category": "discrete",
    "source": "CSEblog",
    "question": "A rectangular table has 100 coins with unit radius, placed on it such that none of the coins overlap, and it is impossible to place any more coins on the table without causing an overlap. Using this specific configuration, find a special configuration of 400 coins which covers the table with overlaps.\n\nCovering means for every point on table there is a coin above it.",
    "hint": "Create coins of radius 2 from the center of all coins. Notice that these coins fill up entire table, they are just bigger than what we are given.",
    "solution": "Consider just one of these coins, with center P. It follows that the center Q of any other coin cannot lie within the coin of radius 2 with center P because it must be at least 2 units away. Thus, we construct all of these coins of radius 2, concurrent with each of the coins of radius 1. If the set of coins of radius 2 did not cover the rectangle entirely, then we could place a coin of radius 1 in this region, contradiction. Thus, the set of coins of radius 2 entirely covers the rectangle.\n\nWe now have 100 coins of radius 2 that entirely covers the rectangle. Scale this by a factor of 1\/2 in both planar dimensions. Now we have 100 coins of radius 1 that entirely covers a rectangle that is a quadrant of the original rectangle. By placing four of these sets together, we get 400 coins of radius 1 that entirely covers the original rectangle.",
  },
  {
    "puzzleId": 1016,
    "title": "Scaling a Square",
    "difficulty": "medium",
    "category": "discrete",
    "source": "Saurabh Joshi's Blog",
    "question": "On a table you have a square made of 4 coins at the corner at distance 1. So, the square is of size 1Ã—1.  In a valid move, you can choose any two coin letâ€™s call them mirror and jumper. Now, you move the jumper in a new position which is its mirror image with respect to mirror. That is, imagine that mirror is a centre of a circle and the jumper is on the periphery. You move the jumper to a diagonally opposite point on that circle. With any number of valid moves, can you form a square of size 2Ã—2? If yes, how? If no, why not?",
    "hint": "Invariance",
    "answer": "No!",
    "solution": "Note, that every valid move is reversible. That is if you make a move in one direction, the other direction is also a possibility. So, if you can scale a square of size 1Ã—1 into a square of size 2Ã—2, then you should also be able to shrink it into arbitrary small square. Say 1\/2 x 1\/2 or 1\/1024 x 1\/1024.\n\nSo, now we need to show that you cannot shrink the square. If we show that distance between any two coins is always greater than 1 unit, we are done. And here is the simplest part!\n\nImagine a grid on the 2-d plane. Let the coins be at (0,0) (0,1) (1,0) (1,1) forming a square of size 1Ã—1. Our grid cells are of size 1Ã—1. Note, that no matter how many moves you make, the coins will always have integer co-ordinates ( basically stays on the grid ). Since, the shortest distance on the grid is 1 unit, no two coins can have distance shorter than 1 unit. And we are done!",
  },
  {
    "puzzleId": 1017,
    "title": "Consecutive sums",
    "difficulty": "hard",
    "category": "discrete",
    "source": "Arthur Engel",
    "question": "An optimist and a pessimist are examining a sequence of real numbers. The optimist remarks, â€˜Oh jolly! The sum of any eight consecutive terms is positive!â€™ But the pessimist interjects, â€˜Not so fast, the sum of any five consecutive terms is negative.â€™ Can they both be right? Atmost how large can this sequence be?",
    "hint": "One easy proof is to construct rows, starting from ai, and satisfying one of the sum properties - optimist or pessimist. The column sum can follow the other property. Try making a contradiction.",
    "answer": 11,
    "solution": "Suppose such a sequence with terms {ai} has length 12\n\na1+a2+...+a5<0\na2+a3+...+a6<0\n..\na8+a9+...+a12<0\n\nNote that rows sums are negative and column sums are positive. This is contradiction to the total sum! So max length of sequence is 11. This sequence can be constructed but we wont cover the instruction. Example: 1 at positions 1,3,4,6,8,9,11 and -1.6 at positions 2,5,7,10.",
  },
  {
    "puzzleId": 1018,
    "title": "Intersecting Pillars",
    "difficulty": "hard",
    "category": "discrete",
    "question": "We want to construct a structure made as follows: imagine that two long cylindrical pillars each with radius 1 intersect at right angles and their centers also intersect. What is the volume of this intersection?",
    "answer": "16\/3",
    "solution": "If you cut the intersection by a horizontal plane at distance z from center, the cut will be a square with side-length 2*sqrt( 1-z^2). Integrate to get volume 16\/3.\n\nAnother way is to imagine the largest possible sphere inscribed at the center of intersection. The sphere should have a radius of 1. At each cut perpendicular to the z-axis, the circle from the sphere is inscribed in the square from the intersection as well, So Area of cut-circle = (Pi\/4)*Area of cut-square. This is true for all z, hence Volume of sphere = (Pi\/4)*Volume of Intersection, this also gives 16\/3",
  },
  {
    "puzzleId": 1019,
    "title": "Weird Sequences",
    "difficulty": "medium",
    "category": "general",
    "source": "Common",
    "question": "What is\/are the next term(s) in the sequence:\na) 1, 11, 21, 1211, 111221, ?\nb) 10, 11, 12, 13, 14, 20, 22, 101, ?, ?\nc) (This a sequence made by only 2 & 1): 2,2,1,1,2,1,2,2,1, ?, ?....",
    "hint": "a) base-change, b) count numbers,  c) count repetition",
    "solution": "a) 1, 11, 21, 1211, 111221, 312211, 13112221, 1113213211, â€¦\nThis is a Look-and-say sequence! To generate a member of the sequence from the previous member, read off the digits of the previous member, counting the number of digits in groups of the same digit.\n\nb) 10, 11, 12, 13, 14, 20, 22, 101, 1010, 1111111111\nThis is '10' written in different bases, from 10 to 1!\n\nc) This a sequence made by only 2 & 1: 2,2,1,1,2,1,2,2,1, ?, ?....\nThis is a version of Kolakoski sequence, and is its own run-length encoding. Each symbol occurs in a \"run\" of either 1 or 2 consecutive terms, and writing down the lengths of these runs gives exactly the same sequence. It is the unique sequence with this property except for the same sequence with extra '1' at start.\n\n",
  },
  {
    "puzzleId": 1020,
    "title": "Color Switches",
    "difficulty": "hard",
    "category": "probability",
    "source": "Placement test",
    "question": 'You are given an urn with 100 balls (50 black and 50 white). You pick balls from urn one by one without replacements until all the balls are out. A black followed by a white or a white followed by a black is "a colour change". Calculate the expected number of colour-changes if the balls are being picked randomly from the urn.',
    "hint": "Linearity of expectation",
    "answer": "50",
    "solution": "
      Each time we draw, there could be a possible color-switch, except the first time we draw, hence 99 possible switches.\n\n
      Let $X_i$ be a random variable taking value 1 if $i_{th}$ position has a colour change and zero otherwise, note that $i$ goes from $1$ to $99$.\n\n
      Total number of changes, $S = X_1 + X_2 + ... + X_{99} = \\sum_{i=1}^{99} X_i$\n\n
      The expected number of color changes is denoted by the sum of these variables, i.e $E[S] = E[X_1 + X_2 + ... + X_{99}]$\n\n
      Linearity of expectation states that the expected value of the sum of random variables is equal to the sum of their individual expected values.\n\n
      Hence the answer is $E[S] = E[X_1] + E[X_2] + ... + E[X_{99}]$ \n\n
      Note that each $X_i$ is identical, and the expected value is equal for each $i$, i.e, $E(X_k) = E(X_1) $\n\n
      Hence $E[S] = E[X_1] + ... + E[X_n] = \\sum_{i=1}^{99} E[X_1] = 99 * E[X_1] $\n\n
      Also, we can calculate the expected value, $E[X_1] = 1 * P(X_1 = 1) + 0 * P(X_1 = 0) = P(X_1 =1) $\n\n
      Probability of any given color change is (either first is R second is B, or first is B and second is R)
      $= P(X_1 = 1)= \\dfrac{50}{100}*\\dfrac{50}{99} + \\dfrac{50}{100}*\\dfrac{50}{99} = 50\/99$\n\n
      Finally, the answer is $ E[S] = \\sum_{i=1}^{99} E[X_i] = 99 * E[X_1] = 99 * 50/99 = 50$
      \n\n
      PS:
      ",
  },
]
